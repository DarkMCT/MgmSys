(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(57)},40:function(e,t){},42:function(e,t){},57:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(3),o=a(2),c=a(4),l=a(0),s=a.n(l),i=a(28),m=a.n(i),u=new Headers;u.set("content-type","application/json");var d=function(e,t,a){return fetch("http://localhost:3001"+e,{headers:u,credentials:"include",method:t,mode:"cors",body:a})},p=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).authenticate=function(){d("/auth","POST",JSON.stringify({operation:"login",siape:a.state.siape,senha:a.state.senha})).then(function(e){200!==e.status?(a.setState({message:"Usu\xe1rio n\xe3o encontrado",logged:!1}),a.props.onFail()):200===e.status&&e.json().then(function(){a.props.onSuccess()}).catch(function(e){a.setState({message:"Tipo de usu\xe1rio n\xe3o identificado."})})}).catch(function(e){a.setState({message:"N\xe3o foi poss\xedvel conectar com o servidor",logged:!1}),a.props.onFail()})},a.render=function(){return s.a.createElement("div",{className:"container w-25 pt-5"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("h1",{style:{fontFamily:"Lobster"}},"MgmSys")),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"siape"},"Siape:"),s.a.createElement("input",{type:"text",name:"siape",id:"siape",className:"form-control",onChange:function(e){a.setState({siape:e.target.value})}}))),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password"},"Senha:"),s.a.createElement("input",{type:"password",name:"password",id:"password",className:"form-control",onChange:function(e){a.setState({senha:e.target.value})}}))),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("label",{className:"text-danger text-small"},a.state.message)),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-outline-secondary w-25 mr-2",onClick:a.props.onRegister},"Registrar"),s.a.createElement("button",{type:"button",className:"btn btn-outline-primary w-25 ml-2",onClick:a.authenticate},"Login")),s.a.createElement("div",{className:"row justify-content-center pt-2"},s.a.createElement("button",{type:"button",className:"btn btn-warning btn-sm",onClick:a.props.onForgetPassword},"Esqueceu a senha?")))},a.state={siape:"",senha:"",message:"",logged:!1},a}return Object(c.a)(t,e),t}(l.Component),v=a(5),E=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){a.fetchDepartaments()},a.fetchDepartaments=function(){d("/departamento","GET").then(function(e){return e.json()}).then(function(e){a.setState({departamentos:e})}).catch(function(e){console.error(e)})},a.getDepartaments=function(){return a.state.departamentos.map(function(e){return s.a.createElement("option",{key:e.id_departamento,value:e.id_departamento},e.sigla+" - "+e.nome)})},a.getUserTypes=function(){return["Agente","Gerente"].map(function(e,t){return s.a.createElement("option",{key:t,value:t},e)})},a.sendCredentials=function(){d("/auth","POST",JSON.stringify(a.state.credentials)).then(function(e){200===e.status?a.props.onBack():a.setState({warning:"Dados inv\xe1lidos"})}).catch(function(e){a.setState({warning:"Dados inv\xe1lidos"})})},a.render=function(){return s.a.createElement("div",{className:"container w-50 pt-5"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("h1",{style:{fontFamily:"Lobster"}},"Cadastro de novos usu\xe1rios")),s.a.createElement("br",null),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"siape"},"Siape:"),s.a.createElement("input",{type:"text",name:"siape",id:"siape",className:"form-control",onChange:function(e){return a.setState({credentials:Object(v.a)({},a.state.credentials,{siape:e.target.value})})}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"email"},"E-mail:"),s.a.createElement("input",{type:"email",name:"email",id:"email",className:"form-control",onChange:function(e){return a.setState({credentials:Object(v.a)({},a.state.credentials,{email:e.target.value})})}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"nome"},"Nome:"),s.a.createElement("input",{type:"text",name:"nome",id:"nome",className:"form-control",onChange:function(e){return a.setState({credentials:Object(v.a)({},a.state.credentials,{nome:e.target.value})})}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"senha"},"Senha:"),s.a.createElement("input",{type:"password",name:"senha",id:"senha",className:"form-control",ref:a.senha,onChange:function(e){a.setState({credentials:Object(v.a)({},a.state.credentials,{senha:e.target.value})})}})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"tipo"},"Tipo Usu\xe1rio:"),s.a.createElement("select",{className:"custom-select",onChange:function(e){return a.setState({credentials:Object(v.a)({},a.state.credentials,{tipo:e.target.value})})}},s.a.createElement("option",{defaultValue:!0},"Selecione o tipo de usu\xe1rio"),a.getUserTypes())),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"departamento"},"Departamento:"),s.a.createElement("select",{className:"custom-select",onChange:function(e){return a.setState({credentials:Object(v.a)({},a.state.credentials,{fk_id_departamento:e.target.value})})}},s.a.createElement("option",{defaultValue:!0},"Selecione um departamento"),a.getDepartaments())),s.a.createElement("label",{className:"text-danger"},a.state.warning),s.a.createElement("br",null),s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row justify-content-between"},s.a.createElement("button",{className:"btn btn-outline-secondary",onClick:function(){return a.props.onBack()}},"Voltar"),s.a.createElement("button",{className:"btn btn-outline-primary",onClick:function(){a.sendCredentials()}},"Cadastrar"))),s.a.createElement("div",{className:"footer"}))},a.state={departamentos:[],warning:null,credentials:{operation:"register",fk_id_departamento:null,nome:null,siape:null,email:null,senha:null,tipo:null}},a}return Object(c.a)(t,e),t}(l.Component),f=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).logout=function(){d("/auth","POST",JSON.stringify({operation:"logout"})).then(function(e){a.props.onLogout()}).catch(function(e){console.log(e)})},a.render=function(){return s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},s.a.createElement("a",{className:"navbar-brand",href:"#begin"},"Controle de Acesso"),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"nav-item dropdown"},s.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#begin",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Meus dados"),s.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarToggleExternalContent","aria-controls":"navbarToggleExternalContent","aria-expanded":"false","aria-label":"Toggle navigation"},s.a.createElement("span",{className:"navbar-toggler-icon"})),s.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},s.a.createElement("button",{className:"dropdown-item",onClick:a.props.on_settings},"Meus dados"),s.a.createElement("div",{className:"dropdown-divider"}),s.a.createElement("button",{className:"dropdown-item",onClick:a.logout},"Sair"))))))},a.state={},console.log(e),a}return Object(c.a)(t,e),t}(l.Component),_=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).render=function(){return s.a.createElement("div",{className:"btn-group",role:"group","aria-label":"agent actions"},s.a.createElement("button",{type:"button",onClick:a.props.waiting,className:"btn btn-primary"},"Aguardando"),s.a.createElement("button",{type:"button",onClick:a.props.processed,className:"btn btn-primary"},"Processados"),s.a.createElement("button",{type:"button",onClick:a.props.register,className:"btn btn-primary"},"Cadastrar"))},a.state={},a}return Object(c.a)(t,e),t}(l.Component),h=function(e){var t=new Date(e),a=t.getFullYear().toString(),n=(t.getMonth()+1).toString(),r=t.getUTCDate().toString();return[a=a.padStart(4,"0"),n=n.padStart(2,"0"),r=r.padStart(2,"0")].reduce(function(e,t){return e+"-"+t})},b=function(e){var t=new Date(e),a=t.getFullYear().toString(),n=(t.getMonth()+1).toString(),r=t.getUTCDate().toString();return a=a.padStart(4,"0"),n=n.padStart(2,"0"),r=r.padStart(2,"0"),"".concat(r,"/").concat(n,"/").concat(a)},g=function e(t){if(!t)return null;var a={};return Object.keys(t).forEach(function(n){if("object"===typeof t[n]){var r=e(t[n]);a[n]=r}else a[n]=t[n]}),a},N=function(e,t){for(var a={},n=Object.keys(e),r=0;r<n.length;r++){var o=n[r];if(null!=e[o])for(var c=Object.keys(e[o]),l=0;l<c.length;l++){var s=c[l];t[o][s]!==e[o][s]&&(o in a||(a[o]={}),a[o][s]=t[o][s])}}return a},S=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){if(null!=a.props.data){var e=a.props.data;a.setState(Object(v.a)({},e)),a.original_data=g(e)}},a.make_input=function(e,t,n,r){return s.a.createElement("input",{type:n,className:"form-control",value:r,onChange:function(n){var r={};r[e]=a.state[e],r[e][t]=n.target.value,a.setState(r)}})},a.send_to_server=function(){var e=N(a.original_data,a.state);"visita_aluno"in e&&(e.visita_aluno.id_visita_aluno=a.original_data.visita_aluno.id_visita_aluno),"aluno"in e&&(e.aluno.id_aluno=a.original_data.aluno.id_aluno),d("/visita_aluno","PATCH",JSON.stringify(e)).then(function(e){200===e.status?a.setState({message:"Dados alterados com sucesso!"}):a.setState({message:"N\xe3o foi poss\xedvel alterar os dados. Verifique se os campos est\xe3o preenchidos corretamente."})}).catch(function(e){a.setState({message:"Um erro ocorreu! Tente novamente."})})},a.render=function(){return a.state.visita_aluno?"message"in a.state?s.a.createElement("div",{className:"container"},s.a.createElement("h3",null,a.state.message),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-secondary float-left",onClick:a.props.onBack},"Voltar")),s.a.createElement("div",{className:"col-6"}))):s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Visita")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Data (In\xedcio)"),s.a.createElement("td",null,a.make_input("visita_aluno","data_inicio","date",h(a.state.visita_aluno.data_inicio)))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Data (T\xe9rmino)"),s.a.createElement("td",null,a.make_input("visita_aluno","data_fim","date",h(a.state.visita_aluno.data_fim)))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Frequ\xeancia"),s.a.createElement("td",null,a.make_input("visita_aluno","frequencia","text",a.state.visita_aluno.frequencia))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Hor\xe1rio (In\xedcio)"),s.a.createElement("td",null,a.make_input("visita_aluno","horario_inicio","time",a.state.visita_aluno.horario_inicio))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Hor\xe1rio (Fim)"),s.a.createElement("td",null,a.make_input("visita_aluno","horario_fim","time",a.state.visita_aluno.horario_fim))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Objetivo"),s.a.createElement("td",null,a.make_input("visita_aluno","objetivo","text",a.state.visita_aluno.objetivo)))),s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Aluno")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Nome"),s.a.createElement("td",null,a.make_input("aluno","nome","text",a.state.aluno.nome))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Matr\xedcula"),s.a.createElement("td",null,a.make_input("aluno","matricula","text",a.state.aluno.matricula))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"RG"),s.a.createElement("td",null,a.make_input("aluno","rg","text",a.state.aluno.rg))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"CPF"),s.a.createElement("td",null,a.make_input("aluno","cpf","text",a.state.aluno.cpf))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Email"),s.a.createElement("td",null,a.make_input("aluno","email","email",a.state.aluno.email))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Curso"),s.a.createElement("td",null,a.make_input("aluno","curso","text",a.state.aluno.curso))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Semestre"),s.a.createElement("td",null,a.make_input("aluno","semestre","text",a.state.aluno.semestre))))),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-secondary float-left",onClick:a.props.onBack},"Voltar")),s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-success float-right",onClick:a.send_to_server},"Salvar altera\xe7\xf5es")))):s.a.createElement("div",null)},a.state={},a.original_data=null,a}return Object(c.a)(t,e),t}(l.Component),j=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){if(null!=a.props.data){var e=a.props.data;a.setState(Object(v.a)({},e)),a.original_data=g(e),console.log(Object(v.a)({},e))}},a.make_input=function(e,t,n,r){return s.a.createElement("input",{type:n,className:"form-control",value:r,onChange:function(n){var r={};r[e]=a.state[e],r[e][t]=n.target.value,a.setState(r)}})},a.send_to_server=function(){var e=N(a.original_data,a.state);"visita_servidor"in e&&(e.visita_servidor.id_visita_servidor=a.original_data.visita_servidor.id_visita_servidor),"servidor"in e&&(e.servidor.id_servidor=a.original_data.servidor.id_servidor),"veiculo_servidor"in e&&(e.veiculo_servidor.id_veiculo_servidor=a.original_data.veiculo_servidor.id_veiculo_servidor),d("/visita_servidor","PATCH",JSON.stringify(e)).then(function(e){200===e.status?a.setState({message:"Dados alterados com sucesso!"}):a.setState({message:"N\xe3o foi poss\xedvel alterar os dados. Verifique se os campos est\xe3o preenchidos corretamente."})}).catch(function(e){console.log("error: ",e)})},a.render=function(){return a.state.visita_servidor?"message"in a.state?s.a.createElement("div",{className:"container"},s.a.createElement("h3",null,a.state.message),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-secondary float-left",onClick:a.props.onBack},"Voltar")),s.a.createElement("div",{className:"col-6"}))):s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Visita")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Data (In\xedcio)"),s.a.createElement("td",null,a.make_input("visita_servidor","data","date",h(a.state.visita_servidor.data_inicio)))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Data (T\xe9rmino)"),s.a.createElement("td",null,a.make_input("visita_servidor","data","date",h(a.state.visita_servidor.data_fim)))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Frequ\xeancia"),s.a.createElement("td",null,a.make_input("visita_servidor","frequencia","text",a.state.visita_servidor.frequencia))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Hor\xe1rio (In\xedcio)"),s.a.createElement("td",null,a.make_input("visita_servidor","horario_inicio","time",a.state.visita_servidor.horario_inicio))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Hor\xe1rio (Fim)"),s.a.createElement("td",null,a.make_input("visita_servidor","horario_fim","time",a.state.visita_servidor.horario_fim))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Objetivo"),s.a.createElement("td",null,a.make_input("visita_servidor","objetivo","text",a.state.visita_servidor.objetivo)))),s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Servidor")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Nome"),s.a.createElement("td",null,a.make_input("servidor","nome","text",a.state.servidor.nome))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"SIAPE"),s.a.createElement("td",null,a.make_input("servidor","siape","text",a.state.servidor.siape))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"RG"),s.a.createElement("td",null,a.make_input("servidor","rg","text",a.state.servidor.rg))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"CPF"),s.a.createElement("td",null,a.make_input("servidor","cpf","text",a.state.servidor.cpf))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Email"),s.a.createElement("td",null,a.make_input("servidor","email","text",a.state.servidor.email)))),s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Ve\xedculo")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Placa"),s.a.createElement("td",null,a.state.veiculo_servidor&&a.make_input("veiculo_servidor","placa","text",a.state.veiculo_servidor.placa))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Modelo"),s.a.createElement("td",null,a.state.veiculo_servidor&&a.make_input("veiculo_servidor","modelo","text",a.state.veiculo_servidor.modelo))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Cor"),s.a.createElement("td",null,a.state.veiculo_servidor&&a.make_input("veiculo_servidor","cor","text",a.state.veiculo_servidor.cor))))),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-secondary float-left",onClick:a.props.onBack},"Voltar")),s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-success float-right",onClick:a.send_to_server},"Salvar altera\xe7\xf5es")))):s.a.createElement("div",null)},a.state={},a.original_data=null,a}return Object(c.a)(t,e),t}(l.Component),y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){if(null!=a.props.data){var e=a.props.data;a.setState(Object(v.a)({},e)),a.original_data=g(e)}},a.make_input=function(e,t,n,r){return s.a.createElement("input",{type:n,className:"form-control",value:r,onChange:function(n){var r={};r[e]=a.state[e],r[e][t]=n.target.value,a.setState(r)}})},a.send_to_server=function(){var e=N(a.original_data,a.state);"visita_visitante"in e&&(e.visita_visitante.id_visita_visitante=a.original_data.visita_visitante.id_visita_visitante),"visitante"in e&&(e.visitante.id_visitante=a.original_data.visitante.id_visitante),"veiculo_visitante"in e&&(e.veiculo_visitante.id_veiculo_visitante=a.original_data.veiculo_visitante.id_veiculo_visitante),"empresa"in e&&(e.empresa.id_empresa=a.original_data.empresa.id_empresa),d("/visita_visitante","PATCH",JSON.stringify(e)).then(function(e){200===e.status?a.setState({message:"Dados alterados com sucesso!"}):a.setState({message:"N\xe3o foi poss\xedvel alterar os dados. Verifique se os campos est\xe3o preenchidos corretamente."})}).catch(function(e){console.log("error: ",e)})},a.render=function(){return a.state.visita_visitante?"message"in a.state?s.a.createElement("div",{className:"container"},s.a.createElement("h3",null,a.state.message),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-secondary float-left",onClick:a.props.onBack},"Voltar")),s.a.createElement("div",{className:"col-6"}))):s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Visita")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Data (In\xedcio)"),s.a.createElement("td",null,a.make_input("visita_visitante","data_inicio","date",h(a.state.visita_visitante.data_inicio)))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Data (T\xe9rmino)"),s.a.createElement("td",null,a.make_input("visita_visitante","data_fim","date",h(a.state.visita_visitante.data_fim)))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Frequ\xeancia"),s.a.createElement("td",null,a.make_input("visita_visitante","frequencia","text",a.state.visita_visitante.frequencia))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Hor\xe1rio (In\xedcio)"),s.a.createElement("td",null,a.make_input("visita_visitante","horario_inicio","time",a.state.visita_visitante.horario_inicio))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Hor\xe1rio (Fim)"),s.a.createElement("td",null,a.make_input("visita_visitante","horario_fim","time",a.state.visita_visitante.horario_fim))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Objetivo"),s.a.createElement("td",null,a.make_input("visita_visitante","objetivo","text",a.state.visita_visitante.objetivo)))),s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Visitante")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Nome"),s.a.createElement("td",null,a.make_input("visitante","nome","text",a.state.visitante.nome))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"RG"),s.a.createElement("td",null,a.make_input("visitante","rg","text",a.state.visitante.rg))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"CPF"),s.a.createElement("td",null,a.make_input("visitante","cpf","text",a.state.visitante.cpf))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Email"),s.a.createElement("td",null,a.make_input("visitante","email","text",a.state.visitante.email)))),s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Empresa")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Nome"),s.a.createElement("td",null,a.state.empresa&&a.make_input("empresa","nome","text",a.state.empresa.nome))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"CNPJ"),s.a.createElement("td",null,a.state.empresa&&a.make_input("empresa","cnpj","text",a.state.empresa.cnpj)))),s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Ve\xedculo")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Placa"),s.a.createElement("td",null,a.state.veiculo_visitante&&a.make_input("veiculo_visitante","placa","text",a.state.veiculo_visitante.placa))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Modelo"),s.a.createElement("td",null,a.state.veiculo_visitante&&a.make_input("veiculo_visitante","modelo","text",a.state.veiculo_visitante.modelo))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Cor"),s.a.createElement("td",null,a.state.veiculo_visitante&&a.make_input("veiculo_visitante","cor","text",a.state.veiculo_visitante.cor))))),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-secondary float-left",onClick:a.props.onBack},"Voltar")),s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-success float-right",onClick:a.send_to_server},"Salvar altera\xe7\xf5es")))):s.a.createElement("div",null)},a.state={},a.original_data=null,a}return Object(c.a)(t,e),t}(l.Component),O=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){a.query()},a.query=function(){var e=a.props.data;d("/visita/query","POST",JSON.stringify({id_visita:e.id,tipo_requisicao:e.tipo_requisicao})).then(function(e){return e.json()}).then(function(t){a.setState({tipo_requisicao:e.tipo_requisicao,data:t}),a.original_data={}}).catch(function(e){console.log(e)})},a.edit_request=function(){return"aluno"===a.state.tipo_requisicao?s.a.createElement(S,{data:a.state.data,onBack:a.props.backAction}):"servidor"===a.state.tipo_requisicao?s.a.createElement(j,{data:a.state.data,onBack:a.props.backAction}):"visitante"===a.state.tipo_requisicao?s.a.createElement(y,{data:a.state.data,onBack:a.props.backAction}):void 0},a.render=function(){return s.a.createElement("div",{className:"containers"},a.edit_request())},a.state={},a.original_data=null,a}return Object(c.a)(t,e),t}(l.Component),w=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).db_remove=function(){var e=a.props.data;d("/visita/delete","POST",JSON.stringify({id_visita:e.id,tipo_requisicao:e.tipo_requisicao})).then(function(e){200===e.status?a.setState({message:"Requisi\xe7\xe3o removida!"}):a.setState({message:"N\xe3o foi poss\xedvel remover est\xe1 requisi\xe7\xe3o. Tente novamente."})}).catch(function(e){})},a.print_data=function(){var e=a.props.data;return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Solicita\xe7\xe3o para:"),s.a.createElement("label",{className:"form-control"},e.tipo_requisicao)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Nome:"),s.a.createElement("label",{className:"form-control"},e.nome)),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Na data:"),s.a.createElement("label",{className:"form-control"},b(e.data))))},a.print_message=function(){return s.a.createElement("h3",null,a.state.message)},a.print_prompt=function(){return s.a.createElement("div",{className:"row alert alert-danger"},"Tem certeza que deseja excluir esta requisi\xe7\xe3o de acesso?",s.a.createElement("div",{className:"row justify-content-end"},s.a.createElement("div",{className:"col-4"},s.a.createElement("button",{className:"btn btn-secondary",onClick:a.props.backAction},"N\xe3o")),s.a.createElement("div",{className:"col-4"},s.a.createElement("button",{className:"btn btn-primary",onClick:a.db_remove},"Sim"))))},a.render=function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Cancelando requisi\xe7\xe3o"),null==a.state.message?a.print_data():a.print_message(),null==a.state.message?a.print_prompt():null,s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{className:"btn btn-primary",onClick:a.props.backAction},"Voltar")))},a.state={message:null},a}return Object(c.a)(t,e),t}(l.Component),k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){if(null!=a.props.data){var e=a.props.data;a.setState(Object(v.a)({},e))}},a.render=function(){return a.state.visita_aluno?s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Visita")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Data (In\xedcio)"),s.a.createElement("td",null,b(a.state.visita_aluno.data_inicio))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Data (Fim)"),s.a.createElement("td",null,b(a.state.visita_aluno.data_fim))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Frequ\xeancia"),s.a.createElement("td",null,a.state.visita_aluno.frequencia)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Hor\xe1rio (In\xedcio)"),s.a.createElement("td",null,a.state.visita_aluno.horario_inicio)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Hor\xe1rio (Fim)"),s.a.createElement("td",null,a.state.visita_aluno.horario_fim)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Objetivo"),s.a.createElement("td",null,a.state.visita_aluno.objetivo))),s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Aluno")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Nome"),s.a.createElement("td",null,a.state.aluno.nome)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Matr\xedcula"),s.a.createElement("td",null,a.state.aluno.matricula)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"RG"),s.a.createElement("td",null,a.state.aluno.rg)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"CPF"),s.a.createElement("td",null,a.state.aluno.cpf)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Email"),s.a.createElement("td",null,a.state.aluno.email)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Curso"),s.a.createElement("td",null,a.state.aluno.curso)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Semestre"),s.a.createElement("td",null,a.state.aluno.semestre))))):s.a.createElement("div",null)},a.state={},a}return Object(c.a)(t,e),t}(l.Component),x=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){if(null!=a.props.data){var e=a.props.data;a.setState(Object(v.a)({},e))}},a.render=function(){return a.state.visita_servidor?s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Visita")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Data (In\xedcio)"),s.a.createElement("td",null,b(a.state.visita_servidor.data_inicio))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Data (Fim)"),s.a.createElement("td",null,b(a.state.visita_servidor.data_fim))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Frequ\xeancia"),s.a.createElement("td",null,a.state.visita_servidor.frequencia)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Hor\xe1rio (In\xedcio)"),s.a.createElement("td",null,a.state.visita_servidor.horario_inicio)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Hor\xe1rio (Fim)"),s.a.createElement("td",null,a.state.visita_servidor.horario_fim)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Objetivo"),s.a.createElement("td",null,a.state.visita_servidor.objetivo))),s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Servidor")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Nome"),s.a.createElement("td",null,a.state.servidor.nome)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"SIAPE"),s.a.createElement("td",null,a.state.servidor.siape)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"RG"),s.a.createElement("td",null,a.state.servidor.rg)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"CPF"),s.a.createElement("td",null,a.state.servidor.cpf)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Email"),s.a.createElement("td",null,a.state.servidor.email)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Telefone"),s.a.createElement("td",null,a.state.servidor.telefone))),s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Ve\xedculo")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Placa"),s.a.createElement("td",null,a.state.veiculo_servidor&&a.state.veiculo_servidor.placa)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Modelo"),s.a.createElement("td",null,a.state.veiculo_servidor&&a.state.veiculo_servidor.modelo)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Cor"),s.a.createElement("td",null,a.state.veiculo_servidor&&a.state.veiculo_servidor.cor))))):s.a.createElement("div",null)},a.state={},a}return Object(c.a)(t,e),t}(l.Component),C=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){if(null!=a.props.data){var e=a.props.data;a.setState(Object(v.a)({},e))}},a.render=function(){return a.state.visita_visitante?s.a.createElement("div",{className:"container"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Visita")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Data (In\xedcio)"),s.a.createElement("td",null,b(a.state.visita_visitante.data_inicio))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Data (T\xe9rmino)"),s.a.createElement("td",null,b(a.state.visita_visitante.data_fim))),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Frequ\xeancia"),s.a.createElement("td",null,a.state.visita_visitante.frequencia)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Hor\xe1rio (In\xedcio)"),s.a.createElement("td",null,a.state.visita_visitante.horario_inicio)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Hor\xe1rio (Fim)"),s.a.createElement("td",null,a.state.visita_visitante.horario_fim)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Objetivo"),s.a.createElement("td",null,a.state.visita_visitante.objetivo))),s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Visitante")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Nome"),s.a.createElement("td",null,a.state.visitante.nome)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"RG"),s.a.createElement("td",null,a.state.visitante.rg)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"CPF"),s.a.createElement("td",null,a.state.visitante.cpf)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Email"),s.a.createElement("td",null,a.state.visitante.email))),s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Empresa")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Nome"),s.a.createElement("td",null,a.state.empresa&&a.state.empresa.nome)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"CNPJ"),s.a.createElement("td",null,a.state.empresa&&a.state.empresa.cnpj))),s.a.createElement("thead",{className:"thead-dark"},s.a.createElement("tr",null,s.a.createElement("th",{className:"text-center",scope:"col",colSpan:"2"},"Ve\xedculo")),s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"Campo"),s.a.createElement("th",{scope:"col"},"Valor"))),s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Placa"),s.a.createElement("td",null,a.state.veiculo_visitante&&a.state.veiculo_visitante.placa)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Modelo"),s.a.createElement("td",null,a.state.veiculo_visitante&&a.state.veiculo_visitante.modelo)),s.a.createElement("tr",null,s.a.createElement("th",{scope:"row"},"Cor"),s.a.createElement("td",null,a.state.veiculo_visitante&&a.state.veiculo_visitante.cor))))):s.a.createElement("div",null)},a.state={},a}return Object(c.a)(t,e),t}(l.Component),D=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){a.query()},a.query=function(){var e=a.props.data;d("/visita/query","POST",JSON.stringify({id_visita:e.id,tipo_requisicao:e.tipo_requisicao})).then(function(e){return e.json()}).then(function(t){a.setState({tipo_requisicao:e.tipo_requisicao,data:t})}).catch(function(e){console.log(e)})},a.show_request=function(){return"aluno"===a.state.tipo_requisicao?s.a.createElement(k,{data:a.state.data}):"servidor"===a.state.tipo_requisicao?s.a.createElement(x,{data:a.state.data}):"visitante"===a.state.tipo_requisicao?s.a.createElement(C,{data:a.state.data}):void 0},a.render=function(){return s.a.createElement("div",null,a.show_request(),s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{className:"btn btn-primary",onClick:a.props.backAction},"Voltar")))},a.state={data:null,tipo_requisicao:null},a}return Object(c.a)(t,e),t}(l.Component),A=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){a.search()},a.search=function(){a.setState({data:null}),d("/visita","POST",JSON.stringify({what:"STATUS_AGUARDANDO"})).then(function(e){return e.json()}).then(function(e){var t={};e.map(function(e,a){return t[a]=e}),a.setState({data:t})}).catch(function(e){console.log("error")})},a.__onRemove=function(e){a.setState({current_action:"remove",selected_row:e})},a.__onEdit=function(e){a.setState({current_action:"edit",selected_row:e})},a.__onDetail=function(e){a.setState({current_action:"detail",selected_row:e})},a.format_data=function(){if(null!=a.state.data)return Object.values(a.state.data).map(function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,t+1),s.a.createElement("td",null,e.tipo_requisicao),s.a.createElement("td",null,e.nome),s.a.createElement("td",null,b(e.data)),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-warning",onClick:function(){a.__onEdit(e)}},"Editar"),s.a.createElement("span",{className:"pr-1"}),s.a.createElement("button",{className:"btn btn-danger",onClick:function(){a.__onRemove(e)}},"Remover"),s.a.createElement("span",{className:"pr-1"}),s.a.createElement("button",{className:"btn btn-primary",onClick:function(){a.__onDetail(e)}},"Detalhes")))})},a.list=function(){return s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"#"),s.a.createElement("th",{scope:"col"},"Tipo de Requisi\xe7\xe3o"),s.a.createElement("th",{scope:"col"},"Nome"),s.a.createElement("th",{scope:"col"},"Data"),s.a.createElement("th",{scope:"col"},"A\xe7\xf5es"))),s.a.createElement("tbody",null,a.format_data())))},a.action_handler=function(){var e=function(){a.setState({current_action:"list"}),a.search()};switch(a.state.current_action){case"list":return a.list();case"edit":return s.a.createElement(O,{backAction:e,data:a.state.selected_row});case"remove":return s.a.createElement(w,{backAction:e,data:a.state.selected_row});case"detail":return s.a.createElement(D,{backAction:e,data:a.state.selected_row});default:return s.a.createElement("div",null,"Error")}},a.render=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"pb-5"}),a.action_handler(),s.a.createElement("div",{className:"footer"}))},a.state={current_action:"list",request_id:null,data:null},a}return Object(c.a)(t,e),t}(l.Component),F=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).search=function(){d("/visita","POST",JSON.stringify({what:"STATUS_PROCESSADO"})).then(function(e){return e.json()}).then(function(e){var t={};e.map(function(e,a){return t[a]=e}),a.setState({data:t})}).catch(function(e){console.log("error")})},a.componentDidMount=function(){a.search()},a.__onDetail=function(e){a.setState({current_action:"detail",selected_row:e})},a.format_data=function(){if(null!=a.state.data)return Object.values(a.state.data).map(function(e,t){return s.a.createElement("tr",{key:t,className:1===e.status_de_aprovacao?"bg-light-green":"bg-light-red"},s.a.createElement("td",null,t+1),s.a.createElement("td",null,e.tipo_requisicao),s.a.createElement("td",null,e.nome),s.a.createElement("td",null,b(e.data)),s.a.createElement("td",null,1===e.status_de_aprovacao?"Aprovado":"N\xe3o aprovado"),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(){a.__onDetail(e)}},"Detalhes")))})},a.list=function(){return s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"#"),s.a.createElement("th",{scope:"col"},"Tipo de Requisi\xe7\xe3o"),s.a.createElement("th",{scope:"col"},"Nome"),s.a.createElement("th",{scope:"col"},"Data"),s.a.createElement("th",{scope:"col"},"Status de Aprova\xe7\xe3o"),s.a.createElement("th",{scope:"col"},"A\xe7\xf5es"))),s.a.createElement("tbody",null,a.format_data())))},a.action_handler=function(){switch(a.state.current_action){case"list":return a.list();case"detail":return s.a.createElement(D,{backAction:function(){return a.setState({current_action:"list"})},data:a.state.selected_row});default:return s.a.createElement("div",null,"Error")}},a.render=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"pb-5"}),a.action_handler(),s.a.createElement("div",{className:"footer"}))},a.state={current_action:"list",request_id:null,data:null},a}return Object(c.a)(t,e),t}(l.Component),q=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).render=function(){return s.a.createElement("div",{className:"btn-group btn-group-sm",role:"group","aria-label":"agent actions"},s.a.createElement("button",{type:"button",onClick:a.props.student,className:"btn btn-primary"},"Aluno"),s.a.createElement("button",{type:"button",onClick:a.props.employee,className:"btn btn-primary"},"Servidor"),s.a.createElement("button",{type:"button",onClick:a.props.visitor,className:"btn btn-primary"},"Visitante"))},a.state={},a}return Object(c.a)(t,e),t}(l.Component),V=a(10),P=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.onInitialValues();null!=e&&a.setState(Object(v.a)({},e))},a.save_data=function(){var e={siape:a.state.siape,nome:a.state.nome,email:a.state.email,rg:a.state.rg,cpf:a.state.cpf};a.props.onSave(e)},a.search=function(){var e=a.state.siape.replace(/(\.|-)/g,"");e.length>6?((new Headers).set("content-type","application/json"),d("/visita_servidor/search","POST",JSON.stringify({siape:e,what:"SIAPE"})).then(function(e){return e.json()}).then(function(e){Object.keys(e).length>0?("dt_nasc"in e&&(e.dt_nasc=h(e.dt_nasc)),a.setState(Object(v.a)({},e,{readonly:!0}))):a.setState({readonly:!1})}).catch(function(e){a.setState({readonly:!1})})):a.setState({readonly:!1})},a.render=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h1",null,"Dados do servidor...")),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"servidor_siape"},"SIAPE"),s.a.createElement("input",{type:"text",id:"servidor_siape",ref:a.servidor_siape,className:"form-control",placeholder:"Digite o c\xf3digo SIAPE do servidor",value:a.state.siape,onBlur:a.search,onChange:function(e){return a.setState({siape:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 2000000"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"servidor_rg"},"RG"),s.a.createElement("input",{type:"text",id:"servidor_rg",ref:a.servidor_rg,className:"form-control",placeholder:"Digite o RG do servidor...",value:a.state.rg,readOnly:a.state.readonly,onChange:function(e){return a.setState({rg:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 0000000-0")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"cpf"},"CPF"),s.a.createElement("input",{type:"text",id:"cpf",ref:a.servidor_cpf,className:"form-control",placeholder:"Digite o CPF do servidor...",value:a.state.cpf,readOnly:a.state.readonly,onChange:function(e){return a.setState({cpf:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 000.000.000-00, 000000000-00"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"servidor_nome"},"Nome"),s.a.createElement("input",{type:"text",id:"servidor_nome",ref:a.servidor_nome,className:"form-control",placeholder:"Digite o nome do servidor...",value:a.state.nome,readOnly:a.state.readonly,onChange:function(e){return a.setState({nome:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Foo Bar Baz")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"cpf"},"Email"),s.a.createElement("input",{type:"text",id:"servidor_email",ref:a.servidor_email,className:"form-control",placeholder:"Digite o email do servidor...",value:a.state.email,readOnly:a.state.readonly,onChange:function(e){return a.setState({email:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: foo@bar.baz"))),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"}),s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-success float-right",onClick:function(){a.save_data(),a.props.onNext()}},"Avan\xe7ar"))),s.a.createElement("div",{className:"footer"}))},a.state={siape:"",nome:"",email:"",rg:"",cpf:"",readonly:!0},a}return Object(c.a)(t,e),t}(l.Component),T=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.onInitialValues();null!=e&&a.setState(Object(v.a)({},e))},a.save_data=function(){var e={objetivo:a.state.objetivo,data_inicio:a.state.data_inicio,data_fim:a.state.data_fim,frequencia:a.state.frequencia,pernoite:a.state.pernoite,horario_inicio:a.state.horario_inicio,horario_fim:a.state.horario_fim};a.props.onSave(e)},a.render=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h1",null,"Dados do visita...")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"visita_data_inicio"},"Data (In\xedcio)"),s.a.createElement("input",{type:"date",id:"visita_data_inicio",className:"form-control",placeholder:"Digite a data de in\xedcio do evento...",value:a.state.data_inicio,onChange:function(e){return a.setState({data_inicio:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 01/01/2011")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"visita_data_fim"},"Data (T\xe9rmino)"),s.a.createElement("input",{type:"date",id:"visita_data_fim",className:"form-control",placeholder:"Digite a data de t\xe9rmino do evento...",value:a.state.data_fim,onChange:function(e){return a.setState({data_fim:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 06/01/2011"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"visita_horario_inicio"},"Hor\xe1rio de Inicio"),s.a.createElement("input",{type:"time",id:"visita_horario_inicio",className:"form-control",placeholder:"Digite o hor\xe1rio de in\xedcio da visita...",value:a.state.horario_inicio,onChange:function(e){return a.setState({horario_inicio:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 13:30, 1:30 PM")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"visita_horario_fim"},"Hor\xe1rio de T\xe9rmino"),s.a.createElement("input",{type:"time",id:"visita_horario_fim",className:"form-control",placeholder:"Digite o hor\xe1rio de termino da visita...",value:a.state.horario_fim,onChange:function(e){return a.setState({horario_fim:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 18:30, 6:30 PM"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"frequencia"},"Frequ\xeancia das visitas"),s.a.createElement("select",{id:"frequencia",className:"form-control",value:a.state.frequencia,onChange:function(e){return a.setState({frequencia:e.target.value})}},s.a.createElement("option",{value:"Di\xe1rio",key:"1"},"Di\xe1rio"),s.a.createElement("option",{value:"Semanal",key:"2"},"Semanal"),s.a.createElement("option",{value:"Mensal",key:"3"},"Mensal")),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Di\xe1rio, Semanal")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"visita_pernoite"},"Pernoite"),s.a.createElement("select",{id:"visita_pernoite",className:"form-control",value:a.state.pernoite,onChange:function(e){return a.setState({pernoite:e.target.value})}},s.a.createElement("option",{value:!1,key:"1"},"N\xe3o"),s.a.createElement("option",{value:!0,key:"2"},"Sim")),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Sim, N\xe3o"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col"},s.a.createElement("label",{htmlFor:"visita_objetivo"},"Objetivo"),s.a.createElement("input",{type:"textarea",id:"visita_objetivo",className:"form-control",placeholder:"Digite o objetivo da visita...",value:a.state.objetivo,onChange:function(e){return a.setState({objetivo:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Rua Foo Bar, N\xfamero 00"))),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-secondary float-left",onClick:function(){a.save_data(),a.props.onBack()}},"Voltar")),s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-success float-right",onClick:function(){a.save_data(),a.props.onNext()}},"Finalizar"))),s.a.createElement("div",{className:"footer"}))},a.state={objetivo:"",data_inicio:"",data_fim:"",frequencia:"Di\xe1rio",pernoite:!1,horario_inicio:"",horario_fim:""},a}return Object(c.a)(t,e),t}(l.Component),M=(a(34),a(36),function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.onInitialValues();if(e){var t=null!=e.placa&&e.placa.length>0;a.setState(Object(v.a)({},e,{visita_com_veiculo:t}))}},a.save_data=function(){var e=!0===a.state.visita_com_veiculo?{modelo:a.state.modelo,cor:a.state.cor,placa:a.state.placa}:null;a.props.onSave(e)},a.search=function(){var e=a.state.placa;(e&&(e=e.replace(/(\.|-)/g,"")),7===e.length)?((new Headers).set("content-type","application/json"),d("/visita_servidor/search","POST",JSON.stringify({placa:e,what:"PLACA"})).then(function(e){return e.json()}).then(function(e){Object.keys(e).length>0?a.setState(Object(v.a)({},e,{readonly:!0})):a.setState({readonly:!1})}).catch(function(e){a.setState({readonly:!1})})):a.setState({readonly:!1})},a.change_state_vehicle_state=function(e){var t=!e||a.state.readonly;a.setState({visita_com_veiculo:e,readonly:t})},a.render=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h1",null,"Dados do ve\xedculo...")),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{type:"radio",className:"form-check-input",name:"visita-veiculo",checked:!a.state.visita_com_veiculo,onChange:function(){return a.change_state_vehicle_state(!1)}}),s.a.createElement("label",{className:"form-check-label"},"Sem ve\xedculo")),s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{type:"radio",className:"form-check-input",name:"visita-veiculo",checked:a.state.visita_com_veiculo,onChange:function(){return a.change_state_vehicle_state(!0)}}),s.a.createElement("label",{className:"form-check-label"},"Com ve\xedculo"))),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"veiculo_placa"},"Placa"),s.a.createElement("input",{type:"text",id:"veiculo_placa",className:"form-control",placeholder:"Digite a placa do ve\xedculo...",value:a.state.placa,readOnly:!a.state.visita_com_veiculo,onBlur:a.search,onChange:function(e){return a.setState({placa:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: AAA0000, AAA-0000"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"veiculo_cor"},"Cor"),s.a.createElement("input",{type:"text",id:"veiculo_cor",className:"form-control",placeholder:"Digite a cor do ve\xedculo...",value:a.state.cor,readOnly:a.state.readonly,onChange:function(e){return a.setState({cor:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Branco, Preto")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"veiculo_modelo"},"Modelo"),s.a.createElement("input",{type:"text",id:"veiculo_modelo",className:"form-control",placeholder:"Digite o modelo do ve\xedculo...",value:a.state.modelo,readOnly:a.state.readonly,onChange:function(e){return a.setState({modelo:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Sedan, Hatch"))),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-secondary float-left",onClick:function(){a.save_data(),a.props.onBack()}},"Voltar")),s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-success float-right",onClick:function(){a.save_data(),a.props.onNext()}},"Avan\xe7ar"))),s.a.createElement("div",{className:"footer"}))},a.state={modelo:"",cor:"",placa:"",visita_com_veiculo:!1,readonly:!0},a}return Object(c.a)(t,e),t}(l.Component)),I=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).send_to_server=function(){var e=a.state,t=(e.menu_progress,e.communication_status,Object(V.a)(e,["menu_progress","communication_status"]));(new Headers).set("content-type","application/json"),d("/visita_servidor","POST",JSON.stringify(t)).then(function(e){200===e.status?a.setState(Object(v.a)({},a.reset_state,{communication_status:"Dados enviados com sucesso!"})):a.setState({communication_status:"N\xe3o foi poss\xedvel cadastrar esses dados. Verifica que se todos os campos est\xe3o preenchidos corretamente."})}).catch(function(e){a.setState({communication_status:"Erro ao comunicar com o servidor. Verifique sua conex\xe3o com a rede."})})},a.delta_progress=function(e){return a.setState(function(t,a){return{menu_progress:t.menu_progress+e}})},a.inc_progress=function(){return a.setState(function(e,t){return a.delta_progress(1)})},a.dec_progress=function(){return a.setState(function(e,t){return a.delta_progress(-1)})},a.restart_menu=function(){a.setState({menu_progress:1})},a.render=function(){switch(a.state.menu_progress){case 1:return s.a.createElement(P,{onSave:function(e){return a.setState({servidor:e})},onInitialValues:function(){return a.state.servidor},backendAddr:a.props.backendAddr,onNext:a.inc_progress});case 2:return s.a.createElement(M,{onSave:function(e){return a.setState({veiculo_servidor:e})},onInitialValues:function(){return a.state.veiculo_servidor},backendAddr:a.props.backendAddr,onBack:a.dec_progress,onNext:a.inc_progress});case 3:return s.a.createElement(T,{onSave:function(e){return a.setState({visita_servidor:e})},onInitialValues:function(){return a.state.visita_servidor},backendAddr:a.props.backendAddr,onBack:a.dec_progress,onNext:a.inc_progress});case 4:a.send_to_server(),a.inc_progress();case 5:return s.a.createElement("div",{className:"container"},s.a.createElement("h2",null,a.state.communication_status),s.a.createElement("button",{className:"btn btn-primary",onClick:a.restart_menu},"Continuar"));default:a.restart_menu()}},a.state={servidor:null,veiculo_servidor:null,visita_servidor:null,menu_progress:1,communication_status:""},a.reset_state={servidor:null,veiculo_servidor:null,visita_servidor:null},a}return Object(c.a)(t,e),t}(l.Component),B=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.onInitialValues();null!=e&&a.setState(Object(v.a)({},e))},a.remove_mark_sings=function(e){return e.replace(/(\.|\/|-|\/)/g,"")},a.save_data=function(){var e={nome:a.state.nome,email:a.state.email,rg:a.state.rg,cpf:a.state.cpf,matricula:a.state.matricula,curso:a.state.curso,semestre:a.state.semestre};a.props.onSave(e)},a.search=function(){var e=a.state.matricula.replace(/(\.|-)/g,"");13===e.length?d("/visita_aluno/search","POST",JSON.stringify({matricula:e,what:"MATRICULA"})).then(function(e){return e.json()}).then(function(e){if(Object.keys(e).length>0){var t=Object(v.a)({},e,{dt_nasc:h(e.dt_nasc)});a.setState(Object(v.a)({},t,{readonly:!0}))}else a.setState({readonly:!1})}).catch(function(e){a.setState({readonly:!1})}):a.setState({readonly:!1})},a.render=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h1",null,"Dados do aluno...")),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"estudante_matricula"},"N\xfamero de matr\xedcula"),s.a.createElement("input",{type:"text",id:"estudante_matricula",ref:a.estudante_matricula,className:"form-control",placeholder:"Digite o n\xfamero de matr\xedcula do aluno...",value:a.state.matricula,onBlur:a.search,onChange:function(e){return a.setState({matricula:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 2014000000000"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"estudante_rg"},"RG"),s.a.createElement("input",{type:"text",id:"estudante_rg",ref:a.estudante_rg,className:"form-control",placeholder:"Digite o RG do estudante...",value:a.state.rg,readOnly:a.state.readonly,onChange:function(e){return a.setState({rg:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 0000000-0")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"estudante_cpf"},"CPF"),s.a.createElement("input",{type:"text",id:"estudante_cpf",ref:a.estudante_cpf,className:"form-control",placeholder:"Digite o CPF do estudante...",value:a.state.cpf,readOnly:a.state.readonly,onChange:function(e){return a.setState({cpf:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 000.000.000-00, 000000000-00"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"estudante_nome"},"Nome"),s.a.createElement("input",{type:"text",id:"estudante_nome",ref:a.estudante_nome,className:"form-control",placeholder:"Digite o nome do estudante...",value:a.state.nome,readOnly:a.state.readonly,onChange:function(e){return a.setState({nome:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Foo Bar Baz")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"estudante_email"},"Email"),s.a.createElement("input",{type:"text",id:"estudante_email",ref:a.estudante_email,className:"form-control",placeholder:"Digite o email do estudante...",value:a.state.email,readOnly:a.state.readonly,onChange:function(e){return a.setState({email:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: foo@bar.baz"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"estudante_curso"},"Curso"),s.a.createElement("input",{type:"text",id:"estudante_curso",ref:a.estudante_curso,className:"form-control",placeholder:"Digite o curso do estudante...",value:a.state.curso,readOnly:a.state.readonly,onChange:function(e){return a.setState({curso:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Engenharia da Computa\xe7\xe3o")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"estudante_semestre"},"Semestre"),s.a.createElement("input",{type:"text",id:"estudante_semestre",ref:a.estudante_semestre,className:"form-control",placeholder:"Digite o semestre do estudante...",value:a.state.semestre,readOnly:a.state.readonly,onChange:function(e){return a.setState({semestre:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 1, 2, 10"))),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"}),s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-success float-right",onClick:function(){a.save_data(),a.props.onNext()}},"Avan\xe7ar"))),s.a.createElement("div",{className:"footer"}))},a.state={nome:"",email:"",rg:"",cpf:"",matricula:"",curso:"",semestre:"",readonly:!0},a}return Object(c.a)(t,e),t}(l.Component),R=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.onInitialValues();null!=e&&a.setState(Object(v.a)({},e))},a.save_data=function(){var e={objetivo:a.state.objetivo,data_inicio:a.state.data_inicio,data_fim:a.state.data_fim,frequencia:a.state.frequencia,horario_inicio:a.state.horario_inicio,horario_fim:a.state.horario_fim};a.props.onSave(e)},a.render=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h1",null,"Dados do visita...")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"estudante_data_inicio"},"Data (In\xedcio)"),s.a.createElement("input",{type:"date",id:"estudante_data_inicio",className:"form-control",placeholder:"Digite a data de in\xedcio do evento...",value:a.state.data_inicio,onChange:function(e){return a.setState({data_inicio:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 01/01/2011")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"estudante_data_fim"},"Data (T\xe9rmino)"),s.a.createElement("input",{type:"date",id:"estudante_data_fim",className:"form-control",placeholder:"Digite a data de finaliza\xe7\xe3o do evento....",value:a.state.data_fim,onChange:function(e){return a.setState({data_fim:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 06/01/2011"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"estudante_horario_inicio"},"Hor\xe1rio (Inicio)"),s.a.createElement("input",{type:"time",id:"estudante_horario_inicio",className:"form-control",placeholder:"Digite o hor\xe1rio de in\xedcio da visita...",value:a.state.horario_inicio,onChange:function(e){return a.setState({horario_inicio:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 13:30, 1:30 PM")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"estudante_horario_fim"},"Hor\xe1rio (T\xe9rmino)"),s.a.createElement("input",{type:"time",id:"estudante_horario_fim",className:"form-control",placeholder:"Digite o hor\xe1rio de termino da visita...",value:a.state.horario_fim,onChange:function(e){return a.setState({horario_fim:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 18:30, 6:30 PM"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col"},s.a.createElement("label",{htmlFor:"frequencia"},"Frequ\xeancia das visitas"),s.a.createElement("select",{id:"frequencia",className:"form-control",value:a.state.frequencia,onChange:function(e){return a.setState({frequencia:e.target.value})}},s.a.createElement("option",{value:"Di\xe1rio",key:"1"},"Di\xe1rio"),s.a.createElement("option",{value:"Semanal",key:"2"},"Semanal"),s.a.createElement("option",{value:"Mensal",key:"3"},"Mensal")),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Di\xe1rio, Semanal"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col"},s.a.createElement("label",{htmlFor:"estudante_objetivo"},"Objetivo"),s.a.createElement("input",{type:"textarea",id:"estudante_objetivo",className:"form-control",placeholder:"Digite o objetivo da visita...",value:a.state.objetivo,onChange:function(e){return a.setState({objetivo:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Rua Foo Bar, N\xfamero 00"))),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-secondary float-left",onClick:function(){a.save_data(),a.props.onBack()}},"Voltar")),s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-success float-right",onClick:function(){a.save_data(),a.props.onNext()}},"Finalizar"))),s.a.createElement("div",{className:"footer"}))},a.state={objetivo:"",data_inicio:"",data_fim:"",frequencia:"Di\xe1rio",horario_inicio:"",horario_fim:""},a}return Object(c.a)(t,e),t}(l.Component),J=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).send_to_server=function(){var e=a.state,t=(e.menu_progress,e.communication_status,Object(V.a)(e,["menu_progress","communication_status"]));d("/visita_aluno","POST",JSON.stringify(t)).then(function(e){200===e.status?a.setState(Object(v.a)({},a.reset_state,{communication_status:"Dados enviados com sucesso!"})):a.setState({communication_status:"N\xe3o foi poss\xedvel cadastrar esses dados. Verifica que se todos os campos est\xe3o preenchidos corretamente."})}).catch(function(e){a.setState({communication_status:"Erro ao comunicar com o servidor. Verifique sua conex\xe3o com a rede."})})},a.delta_progress=function(e){return a.setState(function(t,a){return{menu_progress:t.menu_progress+e}})},a.inc_progress=function(){return a.setState(function(e,t){return a.delta_progress(1)})},a.dec_progress=function(){return a.setState(function(e,t){return a.delta_progress(-1)})},a.restart_menu=function(){a.setState({menu_progress:1})},a.render=function(){switch(a.state.menu_progress){case 1:return s.a.createElement(B,{onSave:function(e){return a.setState({aluno:e})},onInitialValues:function(){return a.state.aluno},backendAddr:a.props.backendAddr,onNext:a.inc_progress});case 2:return s.a.createElement(R,{onSave:function(e){return a.setState({visita_aluno:e})},onInitialValues:function(){return a.state.visita_aluno},backendAddr:a.props.backendAddr,onBack:a.dec_progress,onNext:a.inc_progress});case 3:a.send_to_server(),a.inc_progress();case 4:return s.a.createElement("div",{className:"container"},s.a.createElement("h2",null,a.state.communication_status),s.a.createElement("button",{className:"btn btn-primary",onClick:a.restart_menu},"Continuar"));default:a.restart_menu()}},a.state={aluno:null,visita_aluno:null,menu_progress:1,communication_status:""},a.reset_state={aluno:null,visita_aluno:null},a}return Object(c.a)(t,e),t}(l.Component),H=a(15),G=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.onInitialValues();null!=e&&a.setState(Object(v.a)({},e))},a.remove_mark_sings=function(e){return e.replace(/(\.|\/|-|\/)/g,"")},a.save_data=function(){var e={nome:a.state.nome,email:a.state.email,rg:a.state.rg,cpf:a.state.cpf};a.props.onSave(e)},a.search=function(){var e=a.state.rg.replace(/(\.|-)/g,""),t=a.state.cpf.replace(/(\.|-)/g,"");11===t.length&&Object(H.isNumber)(+t)||8===e.length&&Object(H.isNumber)(+e)?(t=11===t.length?t:null,e=8===e.length?e:null,d("/visita_visitante/search","POST",JSON.stringify({cpf:t,rg:e,what:"RG_CPF"})).then(function(e){return e.json()}).then(function(e){Object.keys(e).length>0?a.setState(Object(v.a)({},e,{dt_nasc:h(e.dt_nasc),readonly:!0})):a.setState({readonly:!1})}).catch(function(e){a.setState({readonly:!1})})):a.setState({readonly:!1})},a.render=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h1",null,"Dados do visitante...")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"visitante_rg"},"RG"),s.a.createElement("input",{type:"text",id:"visitante_rg",className:"form-control",placeholder:"Digite o RG do visitante...",value:a.state.rg,onBlur:a.search,onChange:function(e){return a.setState({rg:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 0000000-00, 000000000")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"visitante_cpf"},"CPF"),s.a.createElement("input",{type:"text",id:"visitante_cpf",className:"form-control",placeholder:"Digite o CPF do visitante...",value:a.state.cpf,onBlur:a.search,onChange:function(e){return a.setState({cpf:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 000.000.000-00, 00000000000"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"visitante_nome"},"Nome"),s.a.createElement("input",{type:"text",id:"visitante_nome",className:"form-control",placeholder:"Digite o nome do visitante...",value:a.state.nome,readOnly:a.state.readonly,onChange:function(e){return a.setState({nome:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Foo Bar Baz")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"visitante_email"},"Email"),s.a.createElement("input",{type:"text",id:"visitante_email",className:"form-control",placeholder:"Digite o email do visitante...",value:a.state.email,readOnly:a.state.readonly,onChange:function(e){return a.setState({email:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: foo@bar.baz"))),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"}),s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-success float-right",onClick:function(){a.save_data(),a.props.onNext()}},"Avan\xe7ar"))),s.a.createElement("div",{className:"footer"}))},a.state={nome:"",email:"",rg:"",cpf:"",readonly:!0},a.initial_data={},a}return Object(c.a)(t,e),t}(l.Component),U=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).search=function(){var e=a.state.placa.replace(/(\.|-)/g,"");e.length>=7?d("/visita_visitante/search","POST",JSON.stringify({placa:e,what:"PLACA"})).then(function(e){return e.json()}).then(function(e){Object.keys(e).length>0?a.setState(Object(v.a)({},e,{readonly:!0})):a.setState({readonly:!1})}).catch(function(e){a.setState({readonly:!1})}):a.setState({readonly:!1})},a.componentDidMount=function(){var e=a.props.onInitialValues();if(null!=e){var t=null!=e.placa&&e.placa.length>0;a.setState(Object(v.a)({},e,{visita_com_veiculo:t}))}},a.remove_mark_sings=function(e){return e.replace(/(\.|\/|-|\/)/g,"")},a.save_data=function(){var e=a.state.visita_com_veiculo?{modelo:a.state.modelo,cor:a.state.cor,placa:a.state.placa}:null;a.props.onSave(e)},a.change_state_vehicle_state=function(e){var t=!e||a.state.readonly;a.setState({visita_com_veiculo:e,readonly:t})},a.render=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h1",null,"Dados do ve\xedculo...")),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{type:"radio",className:"form-check-input",name:"visita-veiculo",checked:!a.state.visita_com_veiculo,onChange:function(){return a.change_state_vehicle_state(!1)}}),s.a.createElement("label",{className:"form-check-label"},"Sem ve\xedculo")),s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{type:"radio",className:"form-check-input",name:"visita-veiculo",checked:a.state.visita_com_veiculo,onChange:function(){return a.change_state_vehicle_state(!0)}}),s.a.createElement("label",{className:"form-check-label"},"Com ve\xedculo"))),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"veiculo_placa"},"Placa"),s.a.createElement("input",{type:"text",id:"veiculo_placa",className:"form-control",placeholder:"Digite a placa do ve\xedculo...",value:a.state.placa,readOnly:!a.state.visita_com_veiculo,onBlur:a.search,onChange:function(e){return a.setState({placa:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: AAA-0000, AAA0000"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"veiculo_modelo"},"Modelo"),s.a.createElement("input",{type:"text",id:"veiculo_modelo",ref:a.veiculo_modelo,className:"form-control",placeholder:"Digite o modelo do ve\xedculo...",value:a.state.modelo,readOnly:a.state.readonly,onChange:function(e){return a.setState({modelo:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Sedan, Hatch")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"veiculo_cor"},"Cor"),s.a.createElement("input",{type:"text",id:"veiculo_cor",className:"form-control",placeholder:"Digite a cor do ve\xedculo...",value:a.state.cor,readOnly:a.state.readonly,onChange:function(e){return a.setState({cor:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Branco, Preto"))),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-secondary float-left",onClick:function(){a.save_data(),a.props.onBack()}},"Voltar")),s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-success float-right",onClick:function(){a.save_data(),a.props.onNext()}},"Avan\xe7ar"))),s.a.createElement("div",{className:"footer"}))},a.state={modelo:"",cor:"",placa:"",visita_com_veiculo:!1,readonly:!0},a}return Object(c.a)(t,e),t}(l.Component),L=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.onInitialValues();null!=e&&(a.setState(Object(v.a)({},e)),console.log(e))},a.remove_mark_sings=function(e){return e.replace(/(\.|\/|-|\/)/g,"")},a.save_data=function(){var e={objetivo:a.state.objetivo,data_inicio:a.state.data_inicio,data_fim:a.state.data_fim,frequencia:a.state.frequencia,pernoite:a.state.pernoite,horario_inicio:a.state.horario_inicio,horario_fim:a.state.horario_fim};a.props.onSave(e)},a.render=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h1",null,"Dados da visita...")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"data_inicio"},"Data (In\xedcio)"),s.a.createElement("input",{type:"date",id:"data_inicio",className:"form-control",placeholder:"Digite a data de in\xedcio do evento...",value:a.state.data_inicio,onChange:function(e){return a.setState({data_inicio:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 01/01/2011")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"data_fim"},"Data (T\xe9rmino)"),s.a.createElement("input",{type:"date",id:"data_fim",className:"form-control",placeholder:"Digite a data de t\xe9rmino do evento...",value:a.state.data_fim,onChange:function(e){return a.setState({data_fim:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 06/01/2011"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"horario_inicio"},"Hor\xe1rio de Inicio"),s.a.createElement("input",{type:"time",id:"",ref:a.horario_inicio,className:"form-control",placeholder:"Digite o hor\xe1rio de in\xedcio da visita...",value:a.state.horario_inicio,onChange:function(e){return a.setState({horario_inicio:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 13:30, 1:30 PM")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"horario_inicio"},"Hor\xe1rio de T\xe9rmino"),s.a.createElement("input",{type:"time",id:"",ref:a.horario_fim,className:"form-control",placeholder:"Digite o hor\xe1rio de termino da visita...",value:a.state.horario_fim,onChange:function(e){return a.setState({horario_fim:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 18:30, 6:30 PM"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"frequencia"},"Frequ\xeancia das visitas"),s.a.createElement("select",{id:"frequencia",className:"form-control",value:a.state.frequencia,onChange:function(e){return a.setState({frequencia:e.target.value})}},s.a.createElement("option",{value:"Di\xe1rio",key:"1"},"Di\xe1rio"),s.a.createElement("option",{value:"Semanal",key:"2"},"Semanal"),s.a.createElement("option",{value:"Mensal",key:"3"},"Mensal")),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Di\xe1rio, Semanal")),s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"pernoite"},"Pernoite"),s.a.createElement("select",{id:"pernoite",ref:a.pernoite,className:"form-control",value:a.state.pernoite,onChange:function(e){return a.setState({pernoite:e.target.value})}},s.a.createElement("option",{value:!1,key:"1"},"N\xe3o"),s.a.createElement("option",{value:!0,key:"2"},"Sim")),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Sim, N\xe3o"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col"},s.a.createElement("label",{htmlFor:"objetivo"},"Objetivo"),s.a.createElement("input",{type:"textarea",id:"objetivo",ref:a.objetivo,className:"form-control",placeholder:"Digite o objetivo da visita...",value:a.state.objetivo,onChange:function(e){return a.setState({objetivo:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Rua Foo Bar, N\xfamero 00"))),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-secondary float-left",onClick:function(){a.save_data(),a.props.onBack()}},"Voltar")),s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-success float-right",onClick:function(){a.save_data(),a.props.onNext()}},"Finalizar"))),s.a.createElement("div",{className:"footer"}))},a.state={objetivo:"",data_inicio:"",data_fim:"",frequencia:"Di\xe1rio",pernoite:!1,horario_inicio:"",horario_fim:""},a.initial_data={},a}return Object(c.a)(t,e),t}(l.Component),z=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).search=function(){var e=a.state.cnpj.replace(/(\.|-\/)/g,"");e.length>=14?d("/visita_visitante/search","POST",JSON.stringify({cnpj:e,what:"CNPJ"})).then(function(e){return e.json()}).then(function(e){Object.keys(e).length>0?a.setState(Object(v.a)({},e,{readonly:!0})):a.setState({readonly:!1})}).catch(function(e){a.setState(Object(v.a)({},a.initial_data,{readonly:!1}))}):a.setState(Object(v.a)({},a.initial_data,{readonly:!1}))},a.componentDidMount=function(){var e=a.props.onInitialValues();if(null!=e){var t=!(e.cnpj&&e.cnpj.length>0);a.setState(Object(v.a)({},e,{autonomo:t}))}},a.remove_mark_sings=function(e){return e.replace(/(\.|\/|-|\/)/g,"")},a.save_data=function(){var e=a.state.autonomo?null:{nome:a.state.nome,cep:a.state.cep,cnpj:a.remove_mark_sings(a.state.cnpj),telefone:a.state.telefone};a.props.onSave(e)},a.change_state_company_state=function(e){var t=!e||a.state.readonly;a.setState({autonomo:e,readonly:t})},a.render=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("h1",null,"Dados da empresa...")),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{type:"radio",className:"form-check-input",name:"visitante-autonomo",checked:a.state.autonomo,onChange:function(){return a.change_state_company_state(!0)}}),s.a.createElement("label",{className:"form-check-label"},"Aut\xf4nomo")),s.a.createElement("div",{className:"form-check form-check-inline"},s.a.createElement("input",{type:"radio",className:"form-check-input",name:"visitante-autonomo",checked:!a.state.autonomo,onChange:function(){return a.change_state_company_state(!1)}}),s.a.createElement("label",{className:"form-check-label"},"Contratado"))),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-group col-6"},s.a.createElement("label",{htmlFor:"empresa_cnpj"},"CNPJ"),s.a.createElement("input",{type:"text",id:"empresa_cnpj",className:"form-control",placeholder:"Digite o CNPJ da empresa",value:a.state.cnpj,onBlur:a.search,readOnly:a.state.autonomo,onChange:function(e){return a.setState({cnpj:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: 39.848.267/0001-79"))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"form-group col"},s.a.createElement("label",{htmlFor:"empresa_nome"},"Nome da Empresa"),s.a.createElement("input",{type:"text",id:"empresa_nome",className:"form-control",placeholder:"Digite o nome da empresa...",value:a.state.nome,readOnly:a.state.readonly,onChange:function(e){return a.setState({nome:e.target.value})}}),s.a.createElement("small",{className:"form-text text-muted"},"Ex: Foo Bar SA"))),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-secondary float-left",onClick:function(){a.save_data(),a.props.onBack()}},"Voltar")),s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-success float-right",onClick:function(){a.save_data(),a.props.onNext()}},"Avan\xe7ar"))),s.a.createElement("div",{className:"footer"}))},a.state={nome:"",cnpj:"",autonomo:!0,readonly:!0},a}return Object(c.a)(t,e),t}(l.Component),Y=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).send_to_server=function(){var e=a.state,t=(e.menu_progress,e.communication_status,Object(V.a)(e,["menu_progress","communication_status"]));d("/visita_visitante","POST",JSON.stringify(t)).then(function(e){200===e.status?a.setState(Object(v.a)({},a.reset_state,{communication_status:"Dados enviados com sucesso!"})):a.setState({communication_status:"N\xe3o foi poss\xedvel cadastrar esses dados. Verifica que se todos os campos est\xe3o preenchidos corretamente."})}).catch(function(e){a.setState({communication_status:"Erro ao comunicar com o servidor. Verifique sua conex\xe3o com a rede."})})},a.delta_progress=function(e){return a.setState(function(t,a){return{menu_progress:t.menu_progress+e}})},a.inc_progress=function(){return a.setState(function(e,t){return a.delta_progress(1)})},a.dec_progress=function(){return a.setState(function(e,t){return a.delta_progress(-1)})},a.restart_menu=function(){a.setState({menu_progress:1})},a.render=function(){switch(a.state.menu_progress){case 1:return s.a.createElement(G,{onSave:function(e){return a.setState({visitante:e})},onInitialValues:function(){return a.state.visitante},backendAddr:a.props.backendAddr,onNext:a.inc_progress});case 2:return s.a.createElement(U,{onSave:function(e){return a.setState({veiculo_visitante:e})},onInitialValues:function(){return a.state.veiculo_visitante},backendAddr:a.props.backendAddr,onBack:a.dec_progress,onNext:a.inc_progress});case 3:return s.a.createElement(z,{onSave:function(e){return a.setState({empresa:e})},onInitialValues:function(){return a.state.empresa},backendAddr:a.props.backendAddr,onBack:a.dec_progress,onNext:a.inc_progress});case 4:return s.a.createElement(L,{onSave:function(e){return a.setState({visita_visitante:e})},onInitialValues:function(){return a.state.visita_visitante},backendAddr:a.props.backendAddr,onBack:a.dec_progress,onNext:a.inc_progress});case 5:a.send_to_server(),a.inc_progress();case 6:return s.a.createElement("div",{className:"container"},s.a.createElement("h2",null,a.state.communication_status),s.a.createElement("button",{className:"btn btn-primary",onClick:a.restart_menu},"Continuar"));default:a.restart_menu()}},a.state={visitante:null,veiculo_visitante:null,empresa:null,visita_visitante:null,menu_progress:1,communication_status:""},a.reset_state={visitante:null,veiculo_visitante:null,empresa:null,visita_visitante:null},a}return Object(c.a)(t,e),t}(l.Component),W=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).render_body=function(){switch(a.state.current_action){case"student":return s.a.createElement(J,{backendAddr:a.props.backendAddr});case"employee":return s.a.createElement(I,{backendAddr:a.props.backendAddr});case"visitor":return s.a.createElement(Y,{backendAddr:a.props.backendAddr});default:return s.a.createElement(J,{backendAddr:a.props.backendAddr})}},a.render=function(){return s.a.createElement("div",{className:"container "},s.a.createElement("div",{className:"row justify-content-md-center"},s.a.createElement(q,{student:function(){return a.setState({current_action:"student"})},employee:function(){return a.setState({current_action:"employee"})},visitor:function(){return a.setState({current_action:"visitor"})}})),s.a.createElement("div",{className:"container pt-5"},a.render_body()))},a.state={current_action:""},a}return Object(c.a)(t,e),t}(l.Component),K=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).send_to_server=function(){var e={old_password:a.state.old_password,new_password:a.state.new_password};a.state.confirm_password!==a.state.new_password||a.state.new_password.length<6?a.setState({message:"As senhas n\xe3o s\xe3o iguais ou n\xe3o possui menos de 6 caracteres",message_class:"text-danger"}):(a.setState({message:"Enviando dados para o servidor...",message_class:"text-primary"}),d("/auth/change_password","POST",JSON.stringify(e)).then(function(e){200===e.status?a.setState({message:"Senha alterada!",message_class:"text-success",old_password:"",new_password:"",confirm_password:""}):a.setState({message:"N\xe3o foi poss\xedvel alterar a senha!",message_class:"text-danger"})}).catch(function(e){}))},a.render=function(){return s.a.createElement("div",{className:"container w-50"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("h3",null,"Alterar senha")),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"oldpassword"},"Senha antiga:"),s.a.createElement("input",{className:"form-control",type:"password",id:"oldpassword",value:a.state.old_password,onChange:function(e){return a.setState({old_password:e.target.value})}}))),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"newpassword"},"Senha nova:"),s.a.createElement("input",{className:"form-control",type:"password",id:"newpassword",value:a.state.new_password,onChange:function(e){a.setState({new_password:e.target.value})}}))),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"confirmpassword"},"Confirme a senha:"),s.a.createElement("input",{className:"form-control",type:"password",id:"confirmpassword",value:a.state.confirm_password,onChange:function(e){a.setState({confirm_password:e.target.value})}}))),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:a.send_to_server},"Mudar Senha")),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:a.state.message_class},a.state.message)))},a.state={old_password:"",new_password:"",confirm_password:"",message:"Digite as senhas...",message_class:"text-danger"},a}return Object(c.a)(t,e),t}(l.Component),Q=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).send_to_server=function(){d("/user_info/notification","POST",JSON.stringify({receber_notificacao:a.state.receber_notificacao})).then(function(e){200===e.status?a.setState({message:"Alterado com sucesso!!",message_class:"text-success"}):a.setState({message:"Ops! ocorreu um erro.",message_class:"text-danger"})}).catch(function(e){a.setState({message:"Ops! ocorreu um erro ao enviar esses dados.",message_class:"text-danger"})})},a.componentDidMount=function(){d("/user_info/notification","GET").then(function(e){return e.json()}).then(function(e){return a.setState({receber_notificacao:e.receber_notificacao,message:"Ok",message_class:"text-success"})}).catch(function(e){console.log(e),a.setState({message:"Ops! ocorreu um erro.",message_class:"text-danger"})})},a.componentWillUnmount=function(){a.send_to_server()},a.render=function(){return s.a.createElement("div",{className:"container w-50"},s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("h3",null,"Receber notifica\xe7\xf5es")),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"custom-control custom-checkbox"},s.a.createElement("input",{type:"checkbox",className:"custom-control-input",id:"customCheck1",checked:a.state.receber_notificacao,onChange:function(e){return a.setState({receber_notificacao:e.target.checked})}}),s.a.createElement("label",{className:"custom-control-label",htmlFor:"customCheck1"},"Eu concordo em receber notifica\xe7\xf5es no meu email"))),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:a.state.message_class},a.state.message)))},a.state={receber_notificacao:!1,message:"",message_class:""},a}return Object(c.a)(t,e),t}(l.Component),X=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).render=function(){return s.a.createElement("div",{className:"container w-50"},s.a.createElement("hr",null),s.a.createElement(K,null),s.a.createElement("hr",null),s.a.createElement(Q,null),s.a.createElement("hr",null),s.a.createElement("div",{className:"footer"}))},a.state={},a}return Object(c.a)(t,e),t}(l.Component),Z=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).body=function(e){switch(e){case"waiting":return s.a.createElement(A,{backendAddr:a.props.backendAddr});case"processed":return s.a.createElement(F,{backendAddr:a.props.backendAddr});case"register":return s.a.createElement(W,{backendAddr:a.props.backendAddr});case"settings":return s.a.createElement(X,null);default:return s.a.createElement(A,{backendAddr:a.props.backendAddr})}},a.on_settings=function(){a.setState({current_action:"settings"})},a.render=function(){return s.a.createElement("div",null,s.a.createElement(f,{onLogout:a.props.onLogout,on_settings:a.on_settings}),s.a.createElement("div",{className:"container pt-3 pb-3"},s.a.createElement("div",{className:"row justify-content-md-center"},s.a.createElement(_,{waiting:function(){return a.setState({current_action:"waiting"})},processed:function(){return a.setState({current_action:"processed"})},register:function(){return a.setState({current_action:"register"})}}))),s.a.createElement("div",{className:"container"},a.body(a.state.current_action)))},a.state={user_info:a.props.userInfo,current_action:"waiting"},a}return Object(c.a)(t,e),t}(l.Component),$=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).render=function(){return s.a.createElement("div",{className:"btn-group",role:"group","aria-label":"agent actions"},s.a.createElement("button",{type:"button",onClick:a.props.waiting,className:"btn btn-primary"},"Aguardando"),s.a.createElement("button",{type:"button",onClick:a.props.processed,className:"btn btn-primary"},"Processados"))},a.state={},a}return Object(c.a)(t,e),t}(l.Component),ee=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).approve=function(){d("/visita_process","POST",JSON.stringify({tipo_requisicao:a.state.tipo_requisicao,id:a.state.id,status:"approve"})).then(function(e){200===e.status?a.props.backAction():a.setState(Object(v.a)({},a.state,{message:"Ocurreu um erro ao processar est\xe1 requisi\xe7\xe3o."}))})},a.render=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"form-group"},"Solicita\xe7\xe3o para visita de:",s.a.createElement("label",{className:"form-control"},a.state.nome)),s.a.createElement("div",{className:"form-group"},"Na data:",s.a.createElement("label",{className:"form-control"},b(a.state.data))),s.a.createElement("div",{className:"form-group"},"Solicitado por:",s.a.createElement("label",{className:"form-control"},a.state.requerente)),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("h3",{className:"text-danger"},a.state.message)),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-secondary float-left",onClick:a.props.backAction},"Voltar")),s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-success float-right w-25",onClick:a.approve},"Aprovar"))))},a.state=Object(v.a)({},a.props.data,{message:""}),a}return Object(c.a)(t,e),t}(l.Component),te=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).reject=function(){d("/visita_process","POST",JSON.stringify({tipo_requisicao:a.state.tipo_requisicao,id:a.state.id,status:"reject"})).then(function(e){200===e.status?a.props.backAction():a.setState(Object(v.a)({},a.state,{message:"Ocurreu um erro ao processar est\xe1 requisi\xe7\xe3o."}))})},a.render=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"form-group"},"Solicita\xe7\xe3o para visita de:",s.a.createElement("label",{className:"form-control"},a.state.nome)),s.a.createElement("div",{className:"form-group"},"Na data:",s.a.createElement("label",{className:"form-control"},b(a.state.data))),s.a.createElement("div",{className:"form-group"},"Solicitado por:",s.a.createElement("label",{className:"form-control"},a.state.requerente)),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("h3",{className:"text-danger"},a.state.message)),s.a.createElement("div",{className:"row pt-3"},s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-secondary float-left",onClick:a.props.backAction},"Voltar")),s.a.createElement("div",{className:"col-6"},s.a.createElement("button",{className:"btn btn-danger float-right w-25",onClick:a.reject},"Rejeitar"))))},a.state=Object(v.a)({},a.props.data,{message:""}),a}return Object(c.a)(t,e),t}(l.Component),ae=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).search=function(){d("/visita","POST",JSON.stringify({what:"STATUS_AGUARDANDO"})).then(function(e){return e.json()}).then(function(e){var t={};e.map(function(e,a){return t[a]=e}),a.setState({data:t})}).catch(function(e){console.log("error")})},a.componentDidMount=function(){a.search()},a.__onReject=function(e){a.setState({current_action:"reject",selected_row:e})},a.__onApprove=function(e){a.setState({current_action:"approve",selected_row:e})},a.__onDatail=function(e){a.setState({current_action:"detail",selected_row:e})},a.format_data=function(){if(null!=a.state.data)return Object.values(a.state.data).map(function(e,t){return s.a.createElement("tr",{key:t},s.a.createElement("td",null,t+1),s.a.createElement("td",null,e.tipo_requisicao),s.a.createElement("td",null,e.nome),s.a.createElement("td",null,b(e.data)),s.a.createElement("td",null,e.requerente),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-info",onClick:function(){a.__onDatail(e)}},"Detalhes"),s.a.createElement("span",{className:"pr-1"}),s.a.createElement("button",{className:"btn btn-danger",onClick:function(){a.__onReject(e)}},"Rejeitar"),s.a.createElement("span",{className:"pr-1"}),s.a.createElement("button",{className:"btn btn-success",onClick:function(){a.__onApprove(e)}},"Aprovar")))})},a.list=function(){return s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"#"),s.a.createElement("th",{scope:"col"},"Tipo de Requisi\xe7\xe3o"),s.a.createElement("th",{scope:"col"},"Nome"),s.a.createElement("th",{scope:"col"},"Data"),s.a.createElement("th",{scope:"col"},"Requerente"),s.a.createElement("th",{scope:"col"},"A\xe7\xf5es"))),s.a.createElement("tbody",null,a.format_data())))},a.action_handler=function(){var e=function(){a.setState({current_action:"list"}),a.search()};switch(a.state.current_action){case"list":return a.list();case"detail":return s.a.createElement(D,{backAction:e,data:a.state.selected_row});case"approve":return s.a.createElement(ee,{backAction:e,data:a.state.selected_row},">");case"reject":return s.a.createElement(te,{backAction:e,data:a.state.selected_row},">");default:return s.a.createElement("div",null,"Error")}},a.render=function(){return s.a.createElement("div",{className:"container"},a.action_handler(),s.a.createElement("div",{className:"footer"}))},a.state={current_action:"list",request_id:null,data:null},a}return Object(c.a)(t,e),t}(l.Component),ne=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).search=function(){d("/visita","POST",JSON.stringify({what:"STATUS_PROCESSADO"})).then(function(e){return e.json()}).then(function(e){var t={};e.map(function(e,a){return t[a]=e}),a.setState({data:t})}).catch(function(e){console.log("error")})},a.componentDidMount=function(){a.search()},a.__onDetail=function(e){a.setState({current_action:"detail",selected_row:e})},a.format_data=function(){if(null!=a.state.data)return Object.values(a.state.data).map(function(e,t){return s.a.createElement("tr",{key:t,className:1===e.status_de_aprovacao?"bg-light-green":"bg-light-red"},s.a.createElement("td",null,t+1),s.a.createElement("td",null,e.tipo_requisicao),s.a.createElement("td",null,e.nome),s.a.createElement("td",null,b(e.data)),s.a.createElement("td",null,1===e.status_de_aprovacao?"Aprovado":"N\xe3o Aprovado"),s.a.createElement("td",null,s.a.createElement("button",{className:"btn btn-primary",onClick:function(){a.__onDetail(e)}},"Detalhes")))})},a.list=function(){return s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("table",{className:"table table-hover"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",{scope:"col"},"#"),s.a.createElement("th",{scope:"col"},"Tipo de Requisi\xe7\xe3o"),s.a.createElement("th",{scope:"col"},"Nome"),s.a.createElement("th",{scope:"col"},"Data"),s.a.createElement("th",{scope:"col"},"Status de Aprova\xe7\xe3o"),s.a.createElement("th",{scope:"col"},"A\xe7\xf5es"))),s.a.createElement("tbody",null,a.format_data())))},a.action_handler=function(){switch(a.state.current_action){case"list":return a.list();case"detail":return s.a.createElement(D,{backAction:function(){return a.setState({current_action:"list"})},data:a.state.selected_row});default:return s.a.createElement("div",null,"Error")}},a.render=function(){return s.a.createElement("div",{className:"container"},a.action_handler(),s.a.createElement("div",{className:"footer"}))},a.state={current_action:"list",request_id:null,data:null},a}return Object(c.a)(t,e),t}(l.Component),re=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).body=function(e){switch(e){case"waiting":return s.a.createElement(ae,{backendAddr:a.props.backendAddr});case"processed":return s.a.createElement(ne,{backendAddr:a.props.backendAddr});case"settings":return s.a.createElement(X,null);default:return s.a.createElement(ae,{backendAddr:a.props.backendAddr})}},a.on_settings=function(){a.setState({current_action:"settings"})},a.render=function(){return s.a.createElement("div",null,s.a.createElement(f,{onLogout:a.props.onLogout,on_settings:a.on_settings}),s.a.createElement("div",{className:"container pt-3 pb-3"},s.a.createElement("div",{className:"row justify-content-md-center"},s.a.createElement($,{waiting:function(){return a.setState({current_action:"waiting"})},processed:function(){return a.setState({current_action:"processed"})}}))),s.a.createElement("div",{className:"container"},a.body(a.state.current_action)))},a.state={user_info:a.props.userInfo,current_action:"waiting"},a}return Object(c.a)(t,e),t}(l.Component),oe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).send_to_server=function(){var e={email:a.state.email,siape:a.state.siape};d("/authentication/reset_password/","POST",JSON.stringify(e)).then(function(e){200===e.status?a.setState({message:"Verifique o seu email com a nova senha."}):console.log("Fail")}).catch(console.log)},a.render=function(){return s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row justify-content-center pt-5 pb-3"},s.a.createElement("h3",{className:"text-primary"},"Recuperar Senha")),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement("input",{type:"text",className:"form-control",value:a.state.email,onChange:function(e){return a.setState({email:e.target.value})}}))),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"siape"},"Siape"),s.a.createElement("input",{type:"text",className:"form-control",value:a.state.siape,onChange:function(e){return a.setState({siape:e.target.value})}}))),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("div",{className:"form-group"},s.a.createElement("button",{type:"button",className:"btn btn-outline-secondary mr-2",onClick:a.props.onBack},"Voltar"),s.a.createElement("button",{type:"button",className:"btn btn-outline-dark ml-2",onClick:a.send_to_server},"Recuperar!!!"))))},a.state={email:"",siape:"",message:""},a}return Object(c.a)(t,e),t}(l.Component),ce=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(o.a)(t).call(this,e))).componentDidMount=function(){d("/user_info","GET").then(function(e){200===e.status&&e.json().then(function(e){a.setState({user_info:e,app_state:{0:"agent_dashboard",1:"manager_dashboard"}[e.tipo]})}).catch(function(e){console.log("Error in parsing...")})}).catch(function(e){console.log("Error in request user info")})},a.render=function(){var e=a.state.app_state;return"login_screen"===e?s.a.createElement(p,{onSuccess:function(){return window.location.reload()},onFail:function(){},onRegister:function(){a.setState({app_state:"register_screen"})},onForgetPassword:function(){return a.setState({app_state:"reset_password"})},backendAddr:a.state.backend_addr}):"register_screen"===e?s.a.createElement(E,{onBack:function(){return a.setState({app_state:"login_screen"})},backendAddr:a.state.backend_addr}):"agent_dashboard"===e?s.a.createElement(Z,{userInfo:a.state.user_info,onLogout:function(){return a.setState({app_state:"login_screen"})},backendAddr:a.state.backend_addr}):"manager_dashboard"===e?s.a.createElement(re,{userInfo:a.state.user_info,onLogout:function(){return a.setState({app_state:"login_screen"})},backendAddr:a.state.backend_addr}):"reset_password"===e?s.a.createElement(oe,{onBack:function(){return a.setState({app_state:"login_screen"})}}):s.a.createElement("div",null)},a.state={app_state:"login_screen",backend_addr:"http://localhost:3001",user_info:null},a}return Object(c.a)(t,e),t}(l.Component);m.a.render(s.a.createElement(ce,null),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.ad280691.chunk.js.map